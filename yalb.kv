#:include table.kv
#:import MDList kivymd.uix.list.MDList
#:import MDCard kivymd.uix.card.MDCard
#:import MDTextField kivymd.uix.textfield.MDTextField


BoxLayout:
    orientation: 'vertical'


    ScreenManager:
        id: sm
        Screen:
            id: scr_main
            name: 'Main'
            canvas.before:
                Color:
                    rgb: 1, 1, 1, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            BoxLayout:
                #orientation: "vertical"
                BoxLayout:
                    orientation: "vertical"
                    padding: pt(0)
                    ScrollView:
                        size_hint: 1, 1
                        GridLayout:
                            size_hint: 1, None
                            height: self.minimum_height
                            cols: 2
                            padding: pt(10), 0
                            MDTextField:
                                halign: "left"
                                text: "Flight TSO - 505"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "description"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "Aircraft ID"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "VP-BYT"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "Aircraft type"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "Boeing 737-400"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "From"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "UUDD Domodedovo"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "To"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "UMKK Khrabrovo"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "Off Block Time"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "2045-05-09 02:45"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "Take Off Time"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "2045-05-09 02:58"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "Landing Time"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "2045-05-09 05:21"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "On Block Time"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "2045-05-09 05:34"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "Total Time"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "02:36"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "Air Time"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "02:23"
                                disabled: True
                            MDTextField:
                                halign: "left"
                                text: "Night Time"
                                disabled: True
                            MDTextField:
                                halign:"right"
                                text: "01:02"
                                disabled: True
                #Button:

                ScrollView:
                    id: sv_log
                    size_hint: 0.5, 1
                    GridLayout:
                        cols: 1
                        spacing: -15
                        size_hint: 1, None
                        height: self.minimum_height
                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'
                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'
                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'
                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'
                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'
                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'
                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'
                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'
                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'

                        MDList:
                            #theme_text_color: 'Secondary'
                            text_color: 1, 1, 0, 1
                            TwoLineListItem:
                                text: 'UUDD - 02:36 - UMKK'
                                secondary_text: 'Flight: TSO - 505 Date: 2045-05-09'

                        #Button:
                        #    size_hint_y: None
                        #    size: 1, pt(40)
                        #    text: "buttonX"
        Screen:
            id: scr_second
            name: 'Second'
            BoxLayout:
                id: scr_second_box
                orientation: 'vertical'
                Button:
                    size_hint_y: None
                    height: pt(12)
                    text: 'Refresh'
                    on_release: app.on_refresh()

        Screen:
            id: scr_edit
            name: 'Edit'
            BoxLayout:
                orientation: "vertical"
                #pos_hint: {'center_x': 0.5, 'center_y': 1.0}
                padding: pt(10), pt(1)
                spacing: pt(4)
                MDTextField:
                    size_hint_y: None
                    size: 1, self.minimum_height
                    halign: "center"
                    text: "Flight Edit"
                    disabled: True
                BoxLayout:
                    size_hint_y: None
                    size: 1, pt(14)
                    spacing: pt(10)
                    Button:
                        text: "Date"
                        size_hint: None, 1
                        width: pt(50)
                        opposite_colors: True
                        on_release: app.show_date_picker()
                    TextInput:
                        id: date_picker_input
                        size: 20*pt(10), 1
                        hint_text: '0000-00-00'
                        height: self.minimum_height
                        multiline: False
                BoxLayout:
                    size_hint_y: None
                    size: 1, pt(14)
                    spacing: pt(10)
                    Button:
                        text: "Flight No"
                        size_hint: None, 1
                        width: pt(50)
                        opposite_colors: True
                        on_release: app.show_date_picker()
                    TextInput:
                        id: flight_no_item_input
                        hint_text: 'TSO-333'
                        height: self.minimum_height
                        multiline: False
                BoxLayout:
                    size_hint_y: None
                    size: 1, pt(14)
                    spacing: pt(10)
                    Button:
                        text: "Aircraft ID"
                        size_hint: None, 1
                        width: pt(50)
                        opposite_colors: True
                        on_release: app.show_date_picker()
                    TextInput:
                        id: flight_no_item_input
                        hint_text: 'VP-BYT'
                        height: self.minimum_height
                        multiline: False
                BoxLayout:
                    size_hint_y: None
                    size: 1, pt(14)
                    spacing: pt(10)
                    Button:
                        text: "From"
                        size_hint: None, 1
                        width: pt(50)
                        opposite_colors: True
                        on_release: app.show_date_picker()
                    TextInput:
                        id: flight_no_item_input
                        hint_text: 'ICAO or IATA'
                        height: self.minimum_height
                        multiline: False
                    Button:
                        text: "To"
                        size_hint: None, 1
                        width: pt(50)
                        opposite_colors: True
                        on_release: app.show_date_picker()
                    TextInput:
                        id: flight_no_item_input
                        hint_text: 'ICAO or IATA'
                        height: self.minimum_height
                        multiline: False
                BoxLayout:
                    size_hint_y: None
                    size: 1, pt(14)
                    spacing: pt(10)
                    Button:
                        text: "Off Block"
                        size_hint: None, 1
                        width: pt(50)
                        opposite_colors: True
                        on_release: app.show_time_picker()
                    TextInput:
                        id: block_off_item_input
                        size_hint_y: None
                        hint_text: 'ICAO or IATA'
                        height: self.minimum_height
                        multiline: False
                    Button:
                        text: "Take Off"
                        size_hint: None, 1
                        width: pt(50)
                        opposite_colors: True
                        on_release: app.show_time_picker()
                    TextInput:
                        id: flight_no_item_input
                        hint_text: 'ICAO or IATA'
                        height: self.minimum_height
                        multiline: False
                BoxLayout:
                    size_hint_y: None
                    size: 1, pt(14)
                    spacing: pt(10)
                    Button:
                        text: "On Block"
                        size_hint: None, 1
                        width: pt(50)
                        opposite_colors: True
                        on_release: app.show_time_picker()
                    TextInput:
                        id: block_off_item_input
                        hint_text: 'ICAO or IATA'
                        height: self.minimum_height
                        multiline: False
                    Button:
                        text: "Landing"
                        size_hint: None, 1
                        width: pt(50)
                        opposite_colors: True
                        on_release: app.show_time_picker()
                    TextInput:
                        id: flight_no_item_input
                        hint_text: 'ICAO or IATA'
                        height: self.minimum_height
                        multiline: False

                BoxLayout:
                    size_hint: None, None
                    size: dp(48)*3, dp(48)
                    #pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    MDLabel:
                        theme_text_color: 'Primary'
                        text: "Start on previous time"
                        size_hint: None, None
                        size: dp(180), dp(48)
                    MDCheckbox:
                        id: time_picker_use_previous_time
                        size_hint: None, None
                        size: dp(48), dp(48)
        Screen:
            id: scr_debug
            name: 'debug'
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    Button:
                        text: "vasya"
                    Button:
                        text: "TWO"
            GridLayout:
                cols: 2
                spacing: 10, 10
                BoxLayout:
                    Image:
                        source: "32x32.png"
                        allow_stretch: True
                        color: 1, 0, 0, 1
                BoxLayout:
                    Image:
                        source: "32x32.png"
                        allow_stretch: True
                        color: 1, 1, 0, 1
                BoxLayout:
                    Image:
                        source: "1x1.png"
                        allow_stretch: True
                        color: 0, 0, 1, 1
                BoxLayout:
                    Image:
                        source: "1x1.png"
                        allow_stretch: True
                        color: 1, 1, 1, 1
                    Image:
                        source: "1x1.png"
                        allow_stretch: True
                        color: 1, 1, 1, 1
                TextInput:
                    text: "asdf"
                    padding: 0, 0, 0, 0
                TextInput:
                    text: "2asdf"
                    padding: 0, 0, 0, 0

    ActionBar:
        ActionView:
            id: av
            ActionPrevious:
                id: ap
                title: sm.current_screen.name
                with_previous: False
            ActionButton:
                id: new
                text: 'New Leg'
                on_release: app.scr_edit()
                important: True
            ActionButton:
                id: edit
                text: 'Edit Leg'
                on_release:
                    app.scr_edit()
                important: True
            ActionButton:
                text: '<'
                on_release: app.screen_prev()
                important: True
            ActionButton:
                text: '>'
                on_release: app.screen_next()
                important: True
